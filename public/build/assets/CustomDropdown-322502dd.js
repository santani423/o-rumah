import{J as F,j as k,G as f,a0 as R,K as ae,C as H,z as Y,S as G,F as Z,L as le,I as oe,M as C,x as ne,o as I,f as E,b as _,c as J,w as A,a as j,D as B,l as $,n as z,t as W,R as ie,g as re}from"./app-0e08b8e7.js";import{u as D,w as ue,h as se,o as b,f as de,K as ve,d as pe,H as U,g as ce,t as q,N as X,O as fe,a as v}from"./description-8ebb68a9.js";import{x as be,e as y,b as me,p as xe,f as ge}from"./Navbar-db97468d.js";import{y as he,c as ye,l as N,p as Oe}from"./transition-95532faa.js";import{d as Se,e as we}from"./use-controllable-3085494d.js";import{r as ke}from"./ChevronDownIcon-e8468cd4.js";function Re(t,p){return t===p}var Le=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Le||{}),Te=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Te||{}),Pe=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Pe||{});function _e(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let ee=Symbol("ListboxContext");function K(t){let p=ne(ee,null);if(p===null){let O=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(O,K),O}return p}let De=F({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Re},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:p,attrs:O,emit:L}){let e=k(1),c=k(null),s=k(null),m=k(null),d=k([]),a=k(""),l=k(null),x=k(1);function S(o=n=>n){let n=l.value!==null?d.value[l.value]:null,i=fe(o(d.value.slice()),h=>b(h.dataRef.domRef)),u=n?i.indexOf(n):null;return u===-1&&(u=null),{options:i,activeOptionIndex:u}}let w=f(()=>t.multiple?1:0),[T,V]=Se(f(()=>t.modelValue),o=>L("update:modelValue",o),f(()=>t.defaultValue)),P=f(()=>T.value===void 0?D(w.value,{1:[],0:void 0}):T.value),r={listboxState:e,value:P,mode:w,compare(o,n){if(typeof t.by=="string"){let i=t.by;return(o==null?void 0:o[i])===(n==null?void 0:n[i])}return t.by(o,n)},orientation:f(()=>t.horizontal?"horizontal":"vertical"),labelRef:c,buttonRef:s,optionsRef:m,disabled:f(()=>t.disabled),options:d,searchQuery:a,activeOptionIndex:l,activationTrigger:x,closeListbox(){t.disabled||e.value!==1&&(e.value=1,l.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(o,n,i){if(t.disabled||e.value===1)return;let u=S(),h=be(o===y.Specific?{focus:y.Specific,id:n}:{focus:o},{resolveItems:()=>u.options,resolveActiveIndex:()=>u.activeOptionIndex,resolveId:M=>M.id,resolveDisabled:M=>M.dataRef.disabled});a.value="",l.value=h,x.value=i??1,d.value=u.options},search(o){if(t.disabled||e.value===1)return;let n=a.value!==""?0:1;a.value+=o.toLowerCase();let i=(l.value!==null?d.value.slice(l.value+n).concat(d.value.slice(0,l.value+n)):d.value).find(h=>h.dataRef.textValue.startsWith(a.value)&&!h.dataRef.disabled),u=i?d.value.indexOf(i):-1;u===-1||u===l.value||(l.value=u,x.value=1)},clearSearch(){t.disabled||e.value!==1&&a.value!==""&&(a.value="")},registerOption(o,n){let i=S(u=>[...u,{id:o,dataRef:n}]);d.value=i.options,l.value=i.activeOptionIndex},unregisterOption(o){let n=S(i=>{let u=i.findIndex(h=>h.id===o);return u!==-1&&i.splice(u,1),i});d.value=n.options,l.value=n.activeOptionIndex,x.value=1},theirOnChange(o){t.disabled||V(o)},select(o){t.disabled||V(D(w.value,{0:()=>o,1:()=>{let n=R(r.value.value).slice(),i=R(o),u=n.findIndex(h=>r.compare(i,R(h)));return u===-1?n.push(i):n.splice(u,1),n}}))}};he([s,m],(o,n)=>{var i;r.closeListbox(),ue(n,se.Loose)||(o.preventDefault(),(i=b(s))==null||i.focus())},f(()=>e.value===0)),ae(ee,r),ye(f(()=>D(e.value,{0:N.Open,1:N.Closed})));let g=f(()=>{var o;return(o=b(s))==null?void 0:o.closest("form")});return H(()=>{Y([g],()=>{if(!g.value||t.defaultValue===void 0)return;function o(){r.theirOnChange(t.defaultValue)}return g.value.addEventListener("reset",o),()=>{var n;(n=g.value)==null||n.removeEventListener("reset",o)}},{immediate:!0})}),()=>{let{name:o,modelValue:n,disabled:i,form:u,...h}=t,M={open:e.value===0,disabled:i,value:P.value};return G(Z,[...o!=null&&P.value!=null?we({[o]:P.value}).map(([Q,te])=>G(de,ve({features:pe.Hidden,key:Q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:u,name:Q,value:te}))):[],U({ourProps:{},theirProps:{...O,...ce(h,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:M,slots:p,attrs:O,name:"Listbox"})])}}}),Ve=F({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${q()}`}},setup(t,{attrs:p,slots:O,expose:L}){let e=K("ListboxButton");L({el:e.buttonRef,$el:e.buttonRef});function c(a){switch(a.key){case v.Space:case v.Enter:case v.ArrowDown:a.preventDefault(),e.openListbox(),C(()=>{var l;(l=b(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(y.First)});break;case v.ArrowUp:a.preventDefault(),e.openListbox(),C(()=>{var l;(l=b(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(y.Last)});break}}function s(a){switch(a.key){case v.Space:a.preventDefault();break}}function m(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),C(()=>{var l;return(l=b(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),_e(()=>{var l;return(l=b(e.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let d=me(f(()=>({as:t.as,type:p.type})),e.buttonRef);return()=>{var a,l;let x={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:S,...w}=t,T={ref:e.buttonRef,id:S,type:d.value,"aria-haspopup":"listbox","aria-controls":(a=b(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(l=b(e.labelRef))==null?void 0:l.id,S].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:c,onKeyup:s,onClick:m};return U({ourProps:T,theirProps:w,slot:x,attrs:p,slots:O,name:"ListboxButton"})}}}),Be=F({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${q()}`}},setup(t,{attrs:p,slots:O,expose:L}){let e=K("ListboxOptions"),c=k(null);L({el:e.optionsRef,$el:e.optionsRef});function s(a){switch(c.value&&clearTimeout(c.value),a.key){case v.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case v.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let l=e.options.value[e.activeOptionIndex.value];e.select(l.dataRef.value)}e.mode.value===0&&(e.closeListbox(),C(()=>{var l;return(l=b(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case D(e.orientation.value,{vertical:v.ArrowDown,horizontal:v.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Next);case D(e.orientation.value,{vertical:v.ArrowUp,horizontal:v.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Previous);case v.Home:case v.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(y.First);case v.End:case v.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Last);case v.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),C(()=>{var l;return(l=b(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case v.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),c.value=setTimeout(()=>e.clearSearch(),350));break}}let m=Oe(),d=f(()=>m!==null?(m.value&N.Open)===N.Open:e.listboxState.value===0);return()=>{var a,l,x,S;let w={open:e.listboxState.value===0},{id:T,...V}=t,P={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(S=(l=b(e.labelRef))==null?void 0:l.id)!=null?S:(x=b(e.buttonRef))==null?void 0:x.id,"aria-orientation":e.orientation.value,id:T,onKeydown:s,role:"listbox",tabIndex:0,ref:e.optionsRef};return U({ourProps:P,theirProps:V,slot:w,attrs:p,slots:O,features:X.RenderStrategy|X.Static,visible:d.value,name:"ListboxOptions"})}}}),Ie=F({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${q()}`}},setup(t,{slots:p,attrs:O,expose:L}){let e=K("ListboxOption"),c=k(null);L({el:c,$el:c});let s=f(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===t.id:!1),m=f(()=>D(e.mode.value,{0:()=>e.compare(R(e.value.value),R(t.value)),1:()=>R(e.value.value).some(r=>e.compare(R(r),R(t.value)))})),d=f(()=>D(e.mode.value,{1:()=>{var r;let g=R(e.value.value);return((r=e.options.value.find(o=>g.some(n=>e.compare(R(n),R(o.dataRef.value)))))==null?void 0:r.id)===t.id},0:()=>m.value})),a=xe(c),l=f(()=>({disabled:t.disabled,value:t.value,get textValue(){return a()},domRef:c}));H(()=>e.registerOption(t.id,l)),le(()=>e.unregisterOption(t.id)),H(()=>{Y([e.listboxState,m],()=>{e.listboxState.value===0&&m.value&&D(e.mode.value,{1:()=>{d.value&&e.goToOption(y.Specific,t.id)},0:()=>{e.goToOption(y.Specific,t.id)}})},{immediate:!0})}),oe(()=>{e.listboxState.value===0&&s.value&&e.activationTrigger.value!==0&&C(()=>{var r,g;return(g=(r=b(c))==null?void 0:r.scrollIntoView)==null?void 0:g.call(r,{block:"nearest"})})});function x(r){if(t.disabled)return r.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),C(()=>{var g;return(g=b(e.buttonRef))==null?void 0:g.focus({preventScroll:!0})}))}function S(){if(t.disabled)return e.goToOption(y.Nothing);e.goToOption(y.Specific,t.id)}let w=ge();function T(r){w.update(r)}function V(r){w.wasMoved(r)&&(t.disabled||s.value||e.goToOption(y.Specific,t.id,0))}function P(r){w.wasMoved(r)&&(t.disabled||s.value&&e.goToOption(y.Nothing))}return()=>{let{disabled:r}=t,g={active:s.value,selected:m.value,disabled:r},{id:o,value:n,disabled:i,...u}=t,h={id:o,ref:c,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":m.value,disabled:void 0,onClick:x,onFocus:S,onPointerenter:T,onMouseenter:T,onPointermove:V,onMousemove:V,onPointerleave:P,onMouseleave:P};return U({ourProps:h,theirProps:u,slot:g,attrs:O,slots:p,name:"ListboxOption"})}}});function Ce(t,p){return I(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[_("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}const Me={class:"relative"},Ae={class:"flex items-center"},je=["src"],ze={class:"absolute inset-y-0 right-0 flex items-center px-2 ml-3 border pointer-events-none border-neutral-200 bg-zinc-100 rounded-br-md rounded-tr-md"},Ee={class:"flex items-center"},Ne=["src"],Qe={__name:"CustomDropdown",props:{options:Array,selectedOptions:Object},emits:["update:selectedOptions"],setup(t,{emit:p}){const O=t,L=p,{options:e,selectedOptions:c}=O,s=k(c);return(m,d)=>(I(),J(B(De),{as:"div",modelValue:s.value,"onUpdate:modelValue":[d[0]||(d[0]=a=>s.value=a),d[1]||(d[1]=a=>L("update:selectedOptions",s.value))]},{default:A(()=>[_("div",Me,[j(B(Ve),{class:"relative w-full cursor-default rounded-md bg-white py-2.5 pl-3 pr-10 text-left text-neutral-900 ring-1 ring-inset ring-neutral-300 focus:outline-none sm:text-sm sm:leading-6"},{default:A(()=>[_("span",Ae,[s.value.avatar?(I(),E("img",{key:0,src:s.value.avatar,alt:"",class:"flex-shrink-0 w-5 h-5"},null,8,je)):$("",!0),_("span",{class:z([s.value.avatar?"ml-3":"","block truncate"])},W(s.value.name),3)]),_("span",ze,[j(B(ke),{class:"w-5 h-5 text-neutral-400","aria-hidden":"true"})])]),_:1}),j(ie,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:A(()=>[j(B(Be),{class:"absolute z-10 w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md max-h-56 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:A(()=>[(I(!0),E(Z,null,re(B(e),a=>(I(),J(B(Ie),{as:"template",key:a.id,value:a},{default:A(({active:l,selected:x})=>[_("li",{class:z([l?"bg-neutral-600 text-white":"text-neutral-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[_("div",Ee,[a.avatar?(I(),E("img",{key:0,src:a.avatar,alt:"",class:"flex-shrink-0 w-5 h-5 rounded-full"},null,8,Ne)):$("",!0),_("div",{class:z(a.avatar?"ml-3":"")},[_("span",{class:z([x?"font-semibold":"font-normal","block truncate"])},W(a.name),3)],2)]),x?(I(),E("span",{key:0,class:z([l?"text-white":"text-neutral-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[j(B(Ce),{class:"w-5 h-5","aria-hidden":"true"})],2)):$("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}};export{Qe as _};
