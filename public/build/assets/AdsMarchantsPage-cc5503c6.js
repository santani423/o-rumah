import{_ as R,j as o,z as U,r as J,o as c,c as P,w as $,a as W,b as e,t as w,f as m,e as u,v as g,l as L,k as z,m as C,F as G,g as K,d as Q,i as I,p as X,h as Y}from"./app-0e08b8e7.js";import Z from"./ListingLayout-58f35458.js";import"./Navbar-db97468d.js";import"./Divider-ce31086d.js";import"./description-8ebb68a9.js";import"./transition-95532faa.js";import"./use-tree-walker-a6b88a9a.js";import"./Footer-1cc72079.js";import"./MemberSeedebar-4e08d915.js";const d=i=>(X("data-v-6b0bbf13"),i=i(),Y(),i),ee={class:"pb-36"},te={class:"bg-white shadow-md rounded-lg p-4 mt-4"},se=d(()=>e("div",{class:"flex items-center justify-between border-b border-gray-300 pb-4 mb-4"},[e("h3",{class:"text-xl font-semibold text-gray-800"}," Lokasi ")],-1)),ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oe={class:"flex items-center justify-between"},de={class:"mb-1 font-medium"},le={class:"text-sm font-normal text-neutral-500"},ne=["href"],ie={key:1,class:"px-4 py-2 text-sm rounded-md cursor-pointer bg-neutral-100 text-neutral-600",onclick:"window.history.back()"},re={class:"bg-white shadow-md rounded-lg p-4 mt-3"},ce=d(()=>e("div",{class:"flex items-center justify-between border-b border-gray-300 pb-4 mb-4"},[e("h3",{class:"text-xl font-semibold text-gray-800"}," Iklan Marchant ")],-1)),ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},me={class:"flex flex-col"},pe=d(()=>e("label",{for:"adds",class:"text-sm font-medium text-gray-700 mb-2"},"Adds:",-1)),be={key:0,class:"text-sm text-red-500"},he={class:"flex flex-col"},ge=d(()=>e("label",{for:"slug",class:"text-sm font-medium text-gray-700 mb-2"},"Slug:",-1)),fe={class:"flex flex-col col-span-2"},_e=d(()=>e("label",{for:"description",class:"text-sm font-medium text-gray-700 mb-2"},"Description:",-1)),ve={class:"flex flex-col col-span-2 md:col-span-1"},xe=d(()=>e("label",{for:"day",class:"text-sm font-medium text-gray-700 mb-2"}," Toko Tersedia? ",-1)),ye=d(()=>e("option",{value:""},"Pilih Hari...",-1)),ke=d(()=>e("option",{value:"Tersedia"},"Tersedia",-1)),we=d(()=>e("option",{value:"Tidak Tersedia"}," Tidak Tersedia ",-1)),Ie=[ye,ke,we],Ue={class:"flex flex-col col-span-2 md:col-span-1"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={class:"flex flex-col col-span-2 md:col-span-1"},je=d(()=>e("label",{for:"status",class:"text-sm font-medium text-gray-700 mb-2"},"Aktif?",-1)),Te={class:"switch"},Ae=d(()=>e("span",{class:"slider round"},null,-1)),Ee={class:"flex flex-col col-span-2 md:col-span-1"},De=d(()=>e("label",{for:"status",class:"text-sm font-medium text-gray-700 mb-2"},"Di Arsipkan?",-1)),Ve={class:"switch"},Be=d(()=>e("span",{class:"slider round"},null,-1)),Se={class:"bg-white shadow-md rounded-lg p-4 mt-4"},Me=d(()=>e("div",{class:"flex items-center justify-between border-b border-gray-300 pb-4 mb-4"},[e("h3",{class:"text-xl font-semibold text-gray-800"}," Foto Iklan ")],-1)),Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fe={class:"flex flex-col col-span-2"},He={key:0,class:"mt-4"},Ne=d(()=>e("h4",{class:"text-sm font-medium text-gray-700 mb-2"}," Gambar yang diunggah: ",-1)),qe=["src"],Re=["onClick"],Je={class:"bg-white shadow-md rounded-lg p-4 mt-4"},Pe=d(()=>e("div",{class:"flex items-center justify-between border-b border-gray-300 pb-4 mb-4"},[e("h3",{class:"text-xl font-semibold text-gray-800"}," Informasi Tambahan ")],-1)),$e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},We={class:"flex flex-col col-span-2"},ze=d(()=>e("label",{for:"address",class:"text-sm font-medium text-gray-700 mb-2"},"Alamat:",-1)),Ge={class:"flex justify-end my-3"},Ke={type:"submit",class:"bg-neutral-600 disabled:bg-[#EAEBF0] disabled:text-[#B1B2CE] text-white py-2 px-4 rounded-md"},Qe={__name:"AdsMarchantsPage",props:{isUpdate:Boolean,ads:Object,data:Object,certificate:Object,apartmentType:Object,propertyType:Object},setup(i){const p=o(""),h=o(""),f=o(""),_=o(""),v=o(!1);o("");const x=o(""),y=o(!0),k=o(!0),b=o([]),j=o([]),l=i,T=o(l.data?l.data.district:""),A=o(l.data?l.data.districtId:""),E=o(l.data?l.data.kawasan:""),D=o(l.data?l.data.alamat:""),V=o(l.data?l.data.districtLocation.lat:""),B=o(l.data?l.data.districtLocation.long:""),S=t=>{const s=t.target.files;for(let n=0;n<s.length;n++){const a=s[n],r=URL.createObjectURL(a);b.value.push({url:r,file:a})}},M=t=>{const s=b.value.splice(t,1);URL.revokeObjectURL(s[0].url)},O=()=>{},F=()=>{},H=t=>{console.log("Nilai adds berubah menjadi:",t.target.value);const s=new FormData;s.append("adds",t.target.value),I.post(route("member.tools.checkUniqueTitleAds"),s,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{const a=document.getElementById("addsInput");n.data.isUnique?a.setCustomValidity(""):a.setCustomValidity("Judul iklan sudah digunakan. Harap masukkan judul iklan yang unik.")}).catch(n=>{console.error("Error checking ad title uniqueness:",n)})};U(p,(t,s)=>{console.log(`Nilai baru: ${t}, Nilai lama: ${s}`);const n=new FormData;n.append("adds",t),I.post(route("member.tools.checkUniqueTitleAds"),n,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{const r=document.getElementById("addsInput");a.data.isUnique?(r.setCustomValidity(""),v.value=!1):(r.setCustomValidity("Judul iklan sudah digunakan. Harap masukkan judul iklan yang unik."),v.value=!0),console.log("Response from Laravel:",a.data)}).catch(a=>{console.error("Error submitting form:",a)})});const N=t=>t.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");U(p,t=>{h.value=N(t)});const q=()=>{const t=new FormData;t.append("adds",p.value),t.append("slug",h.value),t.append("description",_.value),t.append("shop_available",x.value),t.append("isActive",y.value),t.append("isrchived",k.value),t.append("address",f.value),t.append("district",T.value),t.append("districtId",A.value),t.append("kawasan",E.value),t.append("alamat",D.value),t.append("districtLocationLat",V.value),t.append("districtLocationLong",B.value),b.value.forEach(s=>{t.append("uploadedImages[]",s.file)}),j.value.forEach(s=>{t.append("newWorkingDays[]",JSON.stringify(s))}),I.post(route("member.merchants.store"),t,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{console.log("Response from Laravel:",s.data),window.location.href=route("member.merchants")}).catch(s=>{console.error("Error submitting form:",s)})};return(t,s)=>{const n=J("Head");return c(),P(Z,null,{default:$(()=>[W(n,{title:"Dashboard"}),e("form",{onSubmit:Q(q,["prevent"]),enctype:"multipart/form-data"},[e("div",ee,[e("div",te,[se,e("div",ae,[e("div",oe,[e("div",null,[e("h5",de,w(i.data.district),1),e("p",le,w(i.data.alamat),1)]),i.isUpdate==!0?(c(),m("a",{key:0,class:"px-4 py-2 text-sm rounded-md cursor-pointer bg-neutral-100 text-neutral-600",href:t.route("listing.editLocation",i.ads.id)}," Ubah Lokasi ",8,ne)):(c(),m("a",ie," Ubah Lokasi "))])])]),e("div",re,[ce,e("div",ue,[e("div",me,[pe,u(e("input",{id:"addsInput",type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>p.value=a),onChange:H,class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-400",placeholder:"Enter Adds..."},null,544),[[g,p.value]]),v.value?(c(),m("p",be," Judul iklan sudah digunakan. Harap masukkan judul iklan yang unik. ")):L("",!0)]),e("div",he,[ge,u(e("input",{id:"slugInput",type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>h.value=a),class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-400",placeholder:"Enter Slug...",readonly:""},null,512),[[g,h.value]])]),e("div",fe,[_e,u(e("textarea",{id:"description","onUpdate:modelValue":s[2]||(s[2]=a=>_.value=a),class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-400",placeholder:"Enter Description...",style:{height:"auto"}},null,512),[[g,_.value]])]),e("div",ve,[xe,u(e("select",{"onUpdate:modelValue":s[3]||(s[3]=a=>x.value=a),class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-400"},Ie,512),[[z,x.value]])]),e("div",Ue,[e("div",Le,[e("div",Ce,[je,e("label",Te,[u(e("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=a=>y.value=a),class:"switch-input",onChange:O},null,544),[[C,y.value]]),Ae])]),e("div",Ee,[De,e("label",Ve,[u(e("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=a=>k.value=a),class:"switch-input",onChange:F},null,544),[[C,k.value]]),Be])])])])])]),e("div",Se,[Me,e("div",Oe,[e("div",Fe,[e("input",{type:"file",multiple:"",onChange:S,class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-400"},null,32),b.value.length>0?(c(),m("div",He,[Ne,(c(!0),m(G,null,K(b.value,(a,r)=>(c(),m("div",{key:r,class:"flex items-center mt-3"},[e("img",{src:a.url,alt:"Uploaded Image",class:"w-20 h-20 object-cover mr-2 rounded-md"},null,8,qe),e("button",{onClick:Xe=>M(r),class:"text-red-500 focus:outline-none"}," Hapus ",8,Re)]))),128))])):L("",!0)])])]),e("div",Je,[Pe,e("div",$e,[e("div",We,[ze,u(e("textarea",{id:"address","onUpdate:modelValue":s[6]||(s[6]=a=>f.value=a),class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-400",placeholder:"Enter Alamat...",style:{height:"auto"}},null,512),[[g,f.value]])])])]),e("div",Ge,[e("button",Ke,w(i.isUpdate?"Ubah":"Buat")+" Iklan ",1)])])],32)]),_:1})}}},nt=R(Qe,[["__scopeId","data-v-6b0bbf13"]]);export{nt as default};
