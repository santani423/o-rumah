import{B as u,C as V,r as C,o as p,c as f,w as d,a as i,D as c,Z as M,b as a,u as F,E as I,d as j,l as h,n as w,e as D,v as E,i as S,O as x}from"./app-0e08b8e7.js";import{_ as U}from"./Card-af735f35.js";import $ from"./FormInput-b085bd2f.js";import{_ as k}from"./Navbar-db97468d.js";import{e as A}from"./vue3-simple-typeahead-0d6d51e4.js";import{_ as N}from"./DefaultButton-07f6876e.js";import O from"./ListingLayout-58f35458.js";import{r as K}from"./ArrowLeftIcon-dc25c3fe.js";import"./Divider-ce31086d.js";import"./description-8ebb68a9.js";import"./transition-95532faa.js";import"./use-tree-walker-a6b88a9a.js";import"./Footer-1cc72079.js";import"./MemberSeedebar-4e08d915.js";const G={class:"mx-auto space-y-6 max-w-7xl"},z={class:"flex items-center justify-between"},P=a("div",null,[a("h4",{class:"text-lg font-bold"},"Buat Iklan Food Anda!"),a("p",{class:"text-sm font-normal"}," Silahkan cari alamat terlebih dahulu. ")],-1),T={class:"w-full"},Z={class:"mb-3"},q={class:"mb-3"},H={class:"mb-3"},J=a("p",{class:"mb-3 text-sm font-medium"}," Alamat Lengkap ",-1),Q={class:"flex justify-end my-3"},R=["disabled"],mt={__name:"Create",props:{errors:Object,id:Number,isUpdate:Boolean,data:Object,url:Object},setup(l){var n=l;const _=()=>window.history.back(),g=u({districtList:[]}),t=u({district:null,districtId:null,districtLocation:null,kawasan:null,alamat:null});V(()=>{var s,e;if(n.isUpdate){const r=n.data;t.district=r.district,t.districtId=r.districtId,t.districtLocation={lat:parseFloat((s=r.districtLocation)==null?void 0:s.lat),long:parseFloat((e=r.districtLocation)==null?void 0:e.long)},t.kawasan=r.kawasan,t.alamat=r.alamat}});const v=s=>s.name,L=s=>{var e=route("listing.getDistrict",{name:s});S({method:"get",url:e}).then(r=>{g.districtList=u(r.data)})},y=s=>{t.district=s.name,t.districtId=s.id,t.districtLocation={lat:parseFloat(s.meta.lat),long:parseFloat(s.meta.long)}},B=()=>{if(n.isUpdate==!0){x.get(route("listing.edit",n.id),t,{preserveState:!0});return}x.get(route("admin.nav.lelang.create-listing"),t,{preserveState:!0})};return(s,e)=>{const r=C("GMapMap");return p(),f(O,null,{default:d(()=>[i(c(M),{title:"Iklankan Food"}),a("div",G,[a("div",z,[P,i(c(I),{href:s.route("profile")},{default:d(()=>[i(N,{onClick:e[0]||(e[0]=m=>_())},{default:d(()=>[i(c(K),{class:"w-4 h-4 mr-2 text-neutral-900","aria-hidden":"true"}),F(" Kembali ")]),_:1})]),_:1},8,["href"])]),a("div",null,[a("form",{onSubmit:j(B,["prevent"])},[i(U,{"card-title":"Lokasi"},{default:d(()=>{var m,b;return[a("div",T,[a("div",Z,[i(c(A),{id:"typeahead_id",placeholder:"Masukkan Kecamatan...",items:g.districtList,minInputLength:1,itemProjection:v,onKeyup:e[1]||(e[1]=o=>L(o.target.value)),onSelectItem:y,class:"w-full text-sm rounded-md shadow-sm border-neutral-300 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-300 focus:border-neutral-500 dark:focus:border-neutral-600 focus:ring-neutral-500 dark:focus:ring-neutral-600 placeholder:text-sm",modelValue:t.district,"onUpdate:modelValue":e[2]||(e[2]=o=>t.district=o),value:t.district??""},null,8,["items","modelValue","value"]),l.errors.district?(p(),f(k,{key:0,class:"mt-2",message:l.errors.district},null,8,["message"])):h("",!0)]),a("div",{class:w(["w-full mb-3",{hidden:!t.districtLocation}])},[i(r,{center:{lat:((m=t.districtLocation)==null?void 0:m.lat)??0,lng:((b=t.districtLocation)==null?void 0:b.long)??0},zoom:15,"map-type-id":"terrain",style:{width:"100%",height:"400px"}},null,8,["center"])],2),a("div",q,[i($,{title:"Area/Kawasan",placeholder:"Masukkan nama area atau kawasan",id:"kawasan",modelValue:t.kawasan,"onUpdate:modelValue":e[3]||(e[3]=o=>t.kawasan=o)},null,8,["modelValue"]),l.errors.kawasan?(p(),f(k,{key:0,class:"mt-2",message:l.errors.kawasan},null,8,["message"])):h("",!0)]),a("div",H,[J,D(a("textarea",{class:"w-full text-sm rounded-md shadow-sm border-neutral-300 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-300 focus:border-neutral-500 dark:focus:border-neutral-600 focus:ring-neutral-500 dark:focus:ring-neutral-600 placeholder:text-sm",rows:"4",placeholder:"Masukkan alamat lengkap","onUpdate:modelValue":e[4]||(e[4]=o=>t.alamat=o)},null,512),[[E,t.alamat]]),i(k,{class:"mt-2",message:l.errors.alamat},null,8,["message"])])])]}),_:1}),a("div",Q,[a("button",{type:"submit",class:w(["bg-[#1CD6D0] disabled:bg-[#EAEBF0] disabled:text-[#B1B2CE] text-white py-2 px-4 rounded-md",{"bg-[#EAEBF0]":t.processing,"text-[#B1B2CE]":t.processing}]),disabled:t.processing}," Gunakan Lokasi ",10,R)])],32)])])]),_:1})}}};export{mt as default};
